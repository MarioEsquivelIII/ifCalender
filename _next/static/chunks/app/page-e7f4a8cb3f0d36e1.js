(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{74:function(e,t,s){Promise.resolve().then(s.bind(s,7791))},7791:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return q}});var a=s(7437),n=s(2265),r=s(7648),i=s(1047),l=s(2451),o=s(407),c=s(3422),d=s(82),m=s(572),x=s(1344),u=s(5595),h=s(5721),g=s(5139),p=s(5952),f=s(2526),y=s(7988),b=s(2489),v=s(3229),j=s(2023),w=s(8930);let N=e=>(0,m.Z)(e,"h:mm a"),S=e=>(0,m.Z)(e,"MMM d, yyyy h:mm a"),k=e=>({work:"bg-blue-500",personal:"bg-green-500",health:"bg-red-500",social:"bg-purple-500",education:"bg-yellow-500",entertainment:"bg-pink-500",shopping:"bg-orange-500",travel:"bg-indigo-500",other:"bg-gray-500"})[e],T=()=>Math.random().toString(36).substr(2,9);var C=s(1723),Z=s(3774),D=s(6540),M=s(401);class A{static async generateAlternatives(e){await new Promise(e=>setTimeout(e,1e3));let t=this.alternativeTemplates[e.category]||this.alternativeTemplates.other,s=[];for(let a=0;a<3;a++){let n=t[a%t.length],r=new Date(e.startTime),i=new Date(e.endTime);s.push({id:T(),title:n.title,description:"Alternative to: ".concat(e.title),startTime:r,endTime:i,category:n.category,confidence:.7+.3*Math.random(),reason:n.reason})}return{alternatives:s,reasoning:"Based on your ".concat(e.category,' event "').concat(e.title,"\", I've suggested some alternatives that align with your interests and schedule."),confidence:.85}}static async suggestSmartAlternatives(e,t,s){await new Promise(e=>setTimeout(e,1500));let a=[];for(let e of(s.end.getTime(),s.start.getTime(),this.getPersonalizedTemplates(t).slice(0,3)))a.push({id:T(),title:e.title,description:e.description,startTime:new Date(s.start),endTime:new Date(s.end),category:e.category,confidence:e.confidence,reason:e.reason});return{alternatives:a,reasoning:"I've analyzed your preferences and the available time slot to suggest activities that match your interests and schedule.",confidence:.92}}static getPersonalizedTemplates(e){return[{title:"Fitness workout",description:"Stay active with a home workout",category:"health",confidence:.9,reason:"Matches your fitness goals"},{title:"Learning session",description:"Dive into a new skill or topic",category:"education",confidence:.85,reason:"Aligns with your learning interests"},{title:"Creative project",description:"Express yourself through art or writing",category:"entertainment",confidence:.8,reason:"Fits your creative side"},{title:"Social connection",description:"Reach out to friends or family",category:"social",confidence:.75,reason:"Maintains social connections"},{title:"Productivity boost",description:"Tackle important tasks efficiently",category:"work",confidence:.88,reason:"Maximizes your productivity"}].sort((e,t)=>t.confidence-e.confidence)}}function E(e){let{originalEvent:t,onClose:s,onSelectAlternative:r}=e,[i,l]=(0,n.useState)([]),[o,c]=(0,n.useState)(!0),[d,m]=(0,n.useState)(""),[x,u]=(0,n.useState)(0);(0,n.useEffect)(()=>{h()},[t]);let h=async()=>{c(!0);try{let e=await A.generateAlternatives(t);l(e.alternatives),m(e.reasoning),u(e.confidence)}catch(e){console.error("Error generating alternatives:",e),l([{id:"1",title:"Alternative Activity",description:"A flexible alternative to your original plan",startTime:t.startTime,endTime:t.endTime,category:t.category,confidence:.8,reason:"Similar category activity"}]),m("Generated fallback alternatives due to AI service unavailability."),u(.7)}finally{c(!1)}},g=e=>{r({...e,status:"scheduled",isAlternative:!0,originalEventId:t.id})},p=e=>e>=.8?"text-green-600":e>=.6?"text-yellow-600":"text-red-600";return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(j.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Alternative Suggestions"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Can't make it to \"",t.title,'"?']})]})]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(b.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Original Event"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(k(t.category))}),(0,a.jsx)("span",{className:"font-medium",children:t.title}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)(C.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:S(t.startTime)}),t.location&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)(Z.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:t.location})]})]})]}),d&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-blue-800",children:d}),x>0&&(0,a.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Confidence: ",(0,a.jsx)("span",{className:p(x),children:x>=.8?"High":x>=.6?"Medium":"Low"})," (",Math.round(100*x),"%)"]})]})]})}),o&&(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(D.Z,{className:"w-6 h-6 text-blue-600 animate-spin"}),(0,a.jsx)("span",{className:"text-gray-600",children:"Generating alternatives..."})]})}),!o&&i.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Suggested Alternatives"}),i.map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>g(e),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(k(e.category))}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(p(e.confidence)," bg-opacity-10"),children:[Math.round(100*e.confidence),"% match"]})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(C.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[N(e.startTime)," - ",N(e.endTime)]})]}),e.location&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(Z.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.location})]})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("p",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:["\uD83D\uDCA1 ",e.reason]})})]}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e)},className:"ml-4 p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",title:"Select this alternative",children:(0,a.jsx)(M.Z,{className:"w-4 h-4"})})]})},e.id))]}),!o&&0===i.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(j.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No alternatives found. Try again later."})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-t",children:[(0,a.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{onClick:h,disabled:o,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Generate More"})]})]})]})})}A.alternativeTemplates={work:[{title:"Remote work session",category:"work",reason:"Flexible work arrangement"},{title:"Focus time - deep work",category:"work",reason:"Productive alternative"},{title:"Professional development",category:"education",reason:"Skill building opportunity"}],personal:[{title:"Self-care time",category:"health",reason:"Wellness alternative"},{title:"Hobby time",category:"entertainment",reason:"Personal fulfillment"},{title:"Home organization",category:"personal",reason:"Productive personal time"}],health:[{title:"Home workout",category:"health",reason:"Flexible fitness option"},{title:"Meditation session",category:"health",reason:"Mental wellness"},{title:"Healthy meal prep",category:"health",reason:"Nutrition focus"}],social:[{title:"Video call with friends",category:"social",reason:"Virtual social connection"},{title:"Social media catch-up",category:"social",reason:"Digital socializing"},{title:"Plan future meetup",category:"social",reason:"Social planning"}],education:[{title:"Online course session",category:"education",reason:"Digital learning"},{title:"Reading time",category:"education",reason:"Self-directed learning"},{title:"Research project",category:"education",reason:"Knowledge building"}],entertainment:[{title:"Movie night at home",category:"entertainment",reason:"Home entertainment"},{title:"Gaming session",category:"entertainment",reason:"Digital entertainment"},{title:"Creative project",category:"entertainment",reason:"Creative expression"}],shopping:[{title:"Online shopping",category:"shopping",reason:"Digital shopping"},{title:"Budget planning",category:"personal",reason:"Financial management"},{title:"Wishlist organization",category:"shopping",reason:"Shopping planning"}],travel:[{title:"Virtual travel experience",category:"entertainment",reason:"Digital exploration"},{title:"Travel planning",category:"travel",reason:"Future trip preparation"},{title:"Local exploration",category:"travel",reason:"Local adventure"}],other:[{title:"Personal project time",category:"personal",reason:"Personal development"},{title:"Relaxation time",category:"health",reason:"Stress relief"},{title:"Creative exploration",category:"entertainment",reason:"Creative outlet"}]};var I=s(9376);let R=["work","personal","health","social","education","entertainment","shopping","travel","other"],H=["#e57373","#64b5f6","#81c784","#ffd54f","#ba68c8","#4dd0e1","#ffb74d","#a1887f","#90a4ae"];function z(e){let{event:t,selectedDate:s,onClose:r,onSave:i,onDelete:l}=e,[o,c]=(0,n.useState)({title:"",description:"",startTime:"",endTime:"",location:"",category:"personal",color:H[0]}),d=!!t,[x,u]=(0,n.useState)(!1),[h,g]=(0,n.useState)(null),[p,f]=(0,n.useState)([]),[y,N]=(0,n.useState)(""),[S,k]=(0,n.useState)(""),[C,Z]=(0,n.useState)(""),D=(0,I.useRouter)(),[M,A]=(0,n.useState)(!1),z=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(t)c({title:t.title,description:t.description||"",startTime:(0,m.Z)(t.startTime,"yyyy-MM-dd'T'HH:mm"),endTime:(0,m.Z)(t.endTime,"yyyy-MM-dd'T'HH:mm"),location:t.location||"",category:t.category,color:t.color||H[0]});else if(s){let e=new Date(s);e.setHours(9,0,0,0);let t=new Date(s);t.setHours(10,0,0,0),c({title:"",description:"",startTime:(0,m.Z)(e,"yyyy-MM-dd'T'HH:mm"),endTime:(0,m.Z)(t,"yyyy-MM-dd'T'HH:mm"),location:"",category:"personal",color:H[0]})}},[t,s]);let P=e=>{f(t=>t.filter(t=>t.id!==e))};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:d?"Edit Event":"Add Event"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(b.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!localStorage.getItem("firstName")){D.push("/login");return}i({id:(null==t?void 0:t.id)||T(),title:o.title,description:o.description||void 0,startTime:new Date(o.startTime),endTime:new Date(o.endTime),location:o.location||void 0,category:o.category,color:o.color,status:(null==t?void 0:t.status)||"scheduled",alternatives:p.length>0?p:void 0})},className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),(0,a.jsx)("input",{type:"text",value:o.title,onChange:e=>c({...o,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter event title",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:o.description,onChange:e=>c({...o,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter event description",rows:3})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),(0,a.jsx)("input",{type:"datetime-local",value:o.startTime,onChange:e=>c({...o,startTime:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),(0,a.jsx)("input",{type:"datetime-local",value:o.endTime,onChange:e=>c({...o,endTime:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,a.jsx)("input",{type:"text",value:o.location,onChange:e=>c({...o,location:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter location"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,a.jsx)("select",{value:o.category,onChange:e=>c({...o,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:R.map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),(0,a.jsx)("div",{className:"flex space-x-2",children:H.map(e=>(0,a.jsx)("button",{type:"button",className:"w-6 h-6 rounded-full border-2 ".concat(o.color===e?"border-black":"border-gray-300"),style:{backgroundColor:e},onClick:()=>c({...o,color:e})},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manual Alternatives"}),(0,a.jsx)("div",{className:"flex flex-col space-y-2 mb-2",children:p.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"flex-1 text-xs",children:[e.title," (",(0,m.Z)(new Date(e.startTime),"MMM d, h:mm a")," - ",(0,m.Z)(new Date(e.endTime),"h:mm a"),")"]}),(0,a.jsx)("button",{type:"button",className:"text-red-500 text-xs",onClick:()=>P(e.id),children:"Remove"})]},e.id))}),(0,a.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Title",value:y,onChange:e=>N(e.target.value),className:"px-2 py-1 border rounded text-xs w-1/3"}),(0,a.jsx)("input",{type:"datetime-local",value:S,onChange:e=>k(e.target.value),className:"px-2 py-1 border rounded text-xs w-1/3"}),(0,a.jsx)("input",{type:"datetime-local",value:C,onChange:e=>Z(e.target.value),className:"px-2 py-1 border rounded text-xs w-1/3"}),(0,a.jsx)("button",{type:"button",onClick:()=>{y&&S&&C&&(f(e=>[...e,{id:T(),title:y,startTime:new Date(S),endTime:new Date(C),category:o.category,confidence:1,reason:"User added"}]),N(""),k(""),Z(""))},className:"bg-blue-500 text-white px-2 py-1 rounded text-xs",children:"Add"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("button",{type:"button",onClick:M?()=>{z.current&&(z.current.stop(),A(!1))}:()=>{if(!("webkitSpeechRecognition"in window)){alert("Speech recognition is not supported in this browser.");return}let e=new window.webkitSpeechRecognition;e.lang="en-US",e.interimResults=!1,e.maxAlternatives=1,e.onresult=e=>{let t=e.results[0][0].transcript;c(e=>({...e,title:e.title||t,description:e.description?e.description+" "+t:t})),A(!1)},e.onerror=()=>{A(!1)},e.onend=()=>{A(!1)},z.current=e,A(!0),e.start()},className:"px-3 py-1 rounded ".concat(M?"bg-red-500 text-white":"bg-green-500 text-white"," text-xs font-medium"),children:M?"Stop Listening":"Speak Event (AI)"}),M&&(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Listening..."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:d?"Update":"Create"})]}),(0,a.jsxs)("button",{type:"button",className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",onClick:e=>{e&&e.preventDefault(),g({id:(null==t?void 0:t.id)||T(),title:o.title,description:o.description||void 0,startTime:new Date(o.startTime),endTime:new Date(o.endTime),location:o.location||void 0,category:o.category,color:o.color,status:(null==t?void 0:t.status)||"scheduled"}),u(!0)},children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Set Alternatives"})]})]}),d&&(0,a.jsxs)("button",{type:"button",onClick:()=>{t&&l(t.id)},className:"flex items-center space-x-2 text-red-600 hover:text-red-800",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Delete"})]})]})]}),x&&h&&(0,a.jsx)(E,{originalEvent:h,onClose:()=>u(!1),onSelectAlternative:e=>{u(!1),i(e)}})]})})}let P=()=>(0,a.jsxs)("div",{className:"col-start-1 col-end-2 row-start-1 pr-2 text-right",children:[(0,a.jsx)("div",{className:"h-10 border-b border-transparent"}),Array.from({length:24}).map((e,t)=>(0,a.jsx)("div",{className:"relative h-12 -mt-2.5",children:(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(0,m.Z)(new Date(2022,0,1,t),"h a")})},t))]}),F=e=>{let{event:t,onClick:s}=e,n=t.startTime.getHours(),r=t.startTime.getMinutes(),i=t.endTime.getHours(),l=t.endTime.getMinutes(),o=48*n+.8*r,c=t.color||"#e57373";return(0,a.jsxs)("div",{className:"absolute w-[calc(100%-8px)] left-1 p-2 pr-3 rounded-lg text-white cursor-pointer shadow-md hover:shadow-lg transition-shadow flex",style:{top:"".concat(o,"px"),height:"".concat((60*i+l)*.8-o,"px"),backgroundColor:c},onClick:()=>s(t),children:[(0,a.jsx)("div",{className:"w-1 h-full rounded-l-lg mr-2",style:{background:"#2196f3"}}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-bold text-sm leading-tight",children:t.title}),(0,a.jsxs)("p",{className:"text-xs opacity-90 leading-tight",children:[(0,m.Z)(t.startTime,"h:mm a")," – ",(0,m.Z)(t.endTime,"h:mm a")]})]})]})};function L(e){let{events:t,onEventUpdate:s,onEventDelete:r,onEventAdd:i,onNewEvent:l}=e,[o,c]=(0,n.useState)(new Date),[d,b]=(0,n.useState)(null),[v,j]=(0,n.useState)(!1),[w,N]=(0,n.useState)(!1),S=(0,x.Z)(o,{weekStartsOn:0}),k=(0,n.useMemo)(()=>(0,u.Z)({start:S,end:(0,h.Z)(S,6)}),[S]),T=(0,n.useRef)(null),C=(e,t)=>{if(!T.current)return;let s=T.current.getBoundingClientRect(),a=Math.floor((e.clientY-s.top)/.8);l((0,g.Z)((0,p.Z)(t,Math.floor(a/60)),15*Math.round(a%60/15)))},Z=e=>{b(e),j(!0)},D=()=>{b(null),j(!1)};return(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,a.jsx)(P,{}),(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-7",children:[(0,a.jsx)("div",{className:"col-start-1 col-span-7 grid grid-cols-7 sticky top-0 bg-white z-[5]",children:k.map(e=>(0,a.jsxs)("div",{className:"text-center py-2 border-b border-l border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 ".concat((0,f.Z)(e)?"font-bold text-blue-700":""),children:(0,m.Z)(e,"E")}),(0,a.jsx)("p",{className:"text-2xl font-medium mt-1 rounded-full w-10 h-10 mx-auto flex items-center justify-center\n                                    ".concat((0,y.Z)(e,new Date)?"border-2 border-blue-600":"","\n                                    ").concat((0,y.Z)(e,o)?"bg-blue-600 text-white":"text-gray-700"),children:(0,m.Z)(e,"d")})]},e.toISOString()))}),k.map(e=>(0,a.jsxs)("div",{className:"relative border-l border-gray-200",ref:T,onClick:t=>C(t,e),children:[Array.from({length:24}).map((e,t)=>(0,a.jsx)("div",{className:"h-12 border-b border-gray-200"},t)),t.filter(t=>(0,y.Z)(t.startTime,e)).map(e=>(0,a.jsx)(F,{event:e,onClick:Z},e.id))]},e.toISOString()))]}),v&&(0,a.jsx)(z,{event:d,onClose:D,onSave:e=>{d?s(e):i(e),D()},onDelete:e=>{r(e),D()}}),w&&d&&(0,a.jsx)(E,{originalEvent:d,onClose:()=>N(!1),onSelectAlternative:e=>{s({...d,status:"cancelled"}),i(e),N(!1)}})]})}var O=s(1559),U=s(6125),_=s(15),G=s(6394),W=e=>{let{selectedDate:t,onSelectDate:s,onCreateEvent:r}=e,[i,c]=n.useState(t),[d,u]=(0,n.useState)(!1),g=(0,n.useRef)(null);n.useEffect(()=>{c(t)},[t]);let p=e=>{c(e),s(e)},f=(0,O.Z)(i),b=(0,U.Z)(f),v=(0,x.Z)(f,{weekStartsOn:0}),j=(0,_.Z)(b,{weekStartsOn:0}),w=[],N=[],S=v,k="";for(;S<=j;){for(let e=0;e<7;e++){k=(0,m.Z)(S,"d");let e=S;N.push((0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full cursor-pointer select-none\n            ".concat((0,y.Z)(S,t)?"bg-blue-600 text-white":"","\n            ").concat((0,G.Z)(S,f)?"text-gray-900":"text-gray-400"),onClick:()=>p(e),children:k},S.toString())),S=(0,h.Z)(S,1)}w.push((0,a.jsx)("div",{className:"flex justify-between",children:N},S.toString())),N=[]}return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsxs)("div",{className:"p-4 bg-white rounded-xl shadow border w-72 flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-2",children:[(0,a.jsx)("button",{onClick:()=>c((0,h.Z)(f,-1)),className:"p-1",children:(0,a.jsx)(l.Z,{className:"w-5 h-5"})}),(0,a.jsx)("div",{className:"text-center font-semibold text-lg",children:(0,m.Z)(f,"MMMM yyyy")}),(0,a.jsx)("button",{onClick:()=>c((0,h.Z)(b,1)),className:"p-1",children:(0,a.jsx)(o.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"flex justify-between text-xs text-gray-500 mb-1 w-full",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:"w-8 text-center",children:e},e))}),w]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:r,className:"mt-6 w-72 flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-3 rounded-lg text-base font-medium hover:bg-blue-700 transition-colors",children:[(0,a.jsx)("span",{className:"text-xl",children:"+"}),(0,a.jsx)("span",{children:"Create Event"})]}),(0,a.jsx)("button",{type:"button",onClick:d?()=>{g.current&&(g.current.stop(),u(!1))}:()=>{if(!("webkitSpeechRecognition"in window)){alert("Speech recognition is not supported in this browser.");return}let e=new window.webkitSpeechRecognition;e.lang="en-US",e.interimResults=!1,e.maxAlternatives=1,e.onresult=e=>{let t=e.results[0][0].transcript,s=t.match(/^(.*?) (on|for) /i),a=t.match(/on ([A-Za-z]+ \d{1,2})/i),n=t.match(/at (\d{1,2}(?::\d{2})? ?(am|pm)?)/i),r=t,i=new Date,l=new Date;if(s&&(r=s[1]),a){let e=a[1]+" "+new Date().getFullYear();i=new Date(e),l=new Date(e)}if(n){let[e,t]=n[1].split(" "),[s,a]=e.includes(":")?e.split(":"):[e,"0"];i.setHours(parseInt(s)+(t&&"pm"===t.toLowerCase()&&12>parseInt(s)?12:0),parseInt(a)),l=new Date(i.getTime()+36e5)}if(r&&!isNaN(i.getTime())){let e={id:T(),title:r,startTime:i,endTime:l,category:"personal",status:"scheduled"};{let t=JSON.parse(localStorage.getItem("events")||"[]");t.push(e),localStorage.setItem("events",JSON.stringify(t)),window.location.reload()}}else alert("Could not recognize event details. Please try again.");u(!1)},e.onerror=()=>u(!1),e.onend=()=>u(!1),g.current=e,u(!0),e.start()},className:"mt-3 w-72 font-semibold flex items-center justify-center bg-green-500 text-white px-4 py-2 rounded-lg text-base hover:bg-green-600 transition-colors",children:"Speak Event (AI)"})]})]})};let Y=[];function q(){let[e,t]=(0,n.useState)(Y),[s,x]=(0,n.useState)(new Date),[u,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)(null),[f,y]=(0,n.useState)(null),[b,v]=(0,n.useState)(!1),[j,w]=(0,n.useState)(!1),N=(0,n.useRef)(null),[S,k]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=localStorage.getItem("fullName");e?(v(!0),y(e.split(" ")[0])):(v(!1),y(null))},[]);let T=e=>{t(t=>[...t,e])},C=e=>{p(e||new Date),h(!0)};return(0,a.jsxs)("div",{className:"flex flex-row h-screen bg-white font-sans",children:[(0,a.jsx)("aside",{className:"w-72 border-r border-gray-200 bg-gray-50 flex flex-col items-center justify-start pt-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 w-full flex flex-col items-center",children:[(0,a.jsx)(W,{selectedDate:s,onSelectDate:x}),(0,a.jsxs)("button",{onClick:()=>{p(s),h(!0)},className:"mt-6 w-full flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-3 rounded-lg text-base font-medium hover:bg-blue-700 transition-colors",children:[(0,a.jsx)("span",{className:"text-xl",children:"+"}),(0,a.jsx)("span",{children:"Create Event"})]}),(0,a.jsx)("button",{type:"button",onClick:S?()=>{N.current&&(N.current.stop(),k(!1))}:()=>{if(!("webkitSpeechRecognition"in window)){alert("Speech recognition is not supported in this browser.");return}let e=new window.webkitSpeechRecognition;e.lang="en-US",e.interimResults=!1,e.maxAlternatives=1,e.onresult=e=>{let s=e.results[0][0].transcript,a=s.match(/^(.*?) (on|for) /i),n=s.match(/on ([A-Za-z]+ \d{1,2})/i),r=s.match(/at (\d{1,2}(?::\d{2})? ?(am|pm)?)/i),i=s,l=new Date,o=new Date;if(a&&(i=a[1]),n){let e=n[1]+" "+new Date().getFullYear();l=new Date(e),o=new Date(e)}if(r){let[e,t]=r[1].split(" "),[s,a]=e.includes(":")?e.split(":"):[e,"0"];l.setHours(parseInt(s)+(t&&"pm"===t.toLowerCase()&&12>parseInt(s)?12:0),parseInt(a)),o=new Date(l.getTime()+36e5)}if(i&&!isNaN(l.getTime())){let e={id:Math.random().toString(36).substr(2,9),title:i,startTime:l,endTime:o,category:"personal",status:"scheduled"};t(t=>[...t,e])}else alert("Could not recognize event details. Please try again.");k(!1)},e.onerror=()=>k(!1),e.onend=()=>k(!1),N.current=e,k(!0),e.start()},className:"mt-3 w-full font-semibold flex items-center justify-center bg-green-500 text-white px-4 py-2 rounded-lg text-base hover:bg-green-600 transition-colors",children:"Speak Event (AI)"}),S&&(0,a.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"Listening..."})]})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4 z-10",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(i.Z,{className:"w-7 h-7 text-blue-600"}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"ifCalendar"}),b&&f&&(0,a.jsxs)("span",{className:"ml-4 text-lg font-semibold text-green-700",children:["Welcome, ",f,"!"]})]}),(0,a.jsx)("button",{onClick:()=>x(new Date),className:"px-4 py-2 text-sm font-medium border border-gray-300 rounded-md hover:bg-gray-50",children:"Today"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("button",{onClick:()=>x((0,c.Z)(s,1)),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsx)("button",{onClick:()=>x((0,d.Z)(s,1)),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,a.jsx)(o.Z,{className:"w-5 h-5 text-gray-600"})})]}),(0,a.jsx)("h2",{className:"text-xl font-medium text-gray-600",children:(0,m.Z)(s,"MMMM yyyy")})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:b?(0,a.jsx)("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 bg-gray-800 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-900 transition-colors",children:"Logout"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{href:"/login",className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Login"}),(0,a.jsx)(r.default,{href:"/register",className:"text-sm font-medium text-white bg-gray-800 px-4 py-2 rounded-md hover:bg-gray-900",children:"Register"})]})})]}),j&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-80",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Are you sure you want to logout?"}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"No"}),(0,a.jsx)("button",{onClick:()=>{v(!1),y(null),w(!1),localStorage.removeItem("token"),localStorage.removeItem("firstName"),localStorage.removeItem("fullName")},className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700",children:"Yes"})]})]})}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsx)(L,{events:e,onEventUpdate:e=>{t(t=>t.map(t=>t.id===e.id?e:t))},onEventDelete:e=>{t(t=>t.filter(t=>t.id!==e))},onEventAdd:T,onNewEvent:e=>C(e)})}),u&&(0,a.jsx)(z,{selectedDate:g,onClose:()=>h(!1),onSave:e=>{T(e),h(!1)},onDelete:()=>{}})]})]})}}},function(e){e.O(0,[25,974,971,117,744],function(){return e(e.s=74)}),_N_E=e.O()}]);